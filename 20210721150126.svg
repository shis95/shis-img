<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1785.4167px" preserveAspectRatio="none" style="width:1696px;height:1785px;background:#00000000;" version="1.1" viewBox="0 0 1696 1785" width="1696.875px" zoomAndPan="magnify"><defs><linearGradient id="g1pj5tn3cw8f0o0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#59B6EC"/><stop offset="100%" stop-color="#2FA4E7"/></linearGradient></defs><g><rect fill="#FFFFFF" height="437.0748" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1377.0833" x="242.7083" y="260.9416"/><rect fill="#FFFFFF" height="304.4332" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1356.25" x="253.125" y="305.9082"/><rect fill="#FFFFFF" height="118.0583" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1335.4167" x="263.5417" y="484.9915"/><rect fill="#FFFFFF" height="224.0499" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="920.8333" x="263.5417" y="712.5997"/><rect fill="#FFFFFF" height="91.4083" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="231.25" x="784.375" y="797.758"/><rect fill="#FFFFFF" height="279.4332" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1514.5833" x="176.0417" y="1408.9661"/><rect fill="#FFFFFF" height="93.0583" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="256.25" x="186.4583" y="1588.0493"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="95.8333" x2="95.8333" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="230.2083" x2="230.2083" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="353.125" x2="353.125" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="525" x2="525" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="701.0417" x2="701.0417" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="900" x2="900" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="1094.7917" x2="1094.7917" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="1263.5417" x2="1263.5417" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="1432.2917" x2="1432.2917" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="1555.2083" x2="1555.2083" y1="78.7333" y2="1706.1076"/><line style="stroke:#BABDBF;stroke-width:2.0833333333333335;stroke-dasharray:5.0,5.0;" x1="1653.125" x2="1653.125" y1="78.7333" y2="1706.1076"/><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="97.9167" x="46.875" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="72.9167" x="59.375" y="62.5671">Update接口</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="97.9167" x="46.875" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="72.9167" x="59.375" y="1730.1331">Update接口</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="202.0833" y="70.9005">失败重试</text><ellipse cx="230.2083" cy="36.4583" fill="url(#g1pj5tn3cw8f0o0)" rx="12.5" ry="12.5" style="stroke:#2FA4E7;stroke-width:2.0833333333333335;"/><polygon fill="#2FA4E7" points="226.0417,23.9583,232.2917,18.75,230.2083,23.9583,232.2917,29.1667,226.0417,23.9583" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="202.0833" y="1722.8414">失败重试</text><ellipse cx="230.2083" cy="1747.3409" fill="url(#g1pj5tn3cw8f0o0)" rx="12.5" ry="12.5" style="stroke:#2FA4E7;stroke-width:2.0833333333333335;"/><polygon fill="#2FA4E7" points="226.0417,1734.8409,232.2917,1729.6326,230.2083,1734.8409,232.2917,1740.0492,226.0417,1734.8409" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="315.625" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="328.125" y="62.5671">回调请求</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="315.625" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="328.125" y="1730.1331">回调请求</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="82.2917" x="484.375" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.2917" x="496.875" y="62.5671">HTTP认证</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="82.2917" x="484.375" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.2917" x="496.875" y="1730.1331">HTTP认证</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="82.2917" x="660.4167" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.2917" x="672.9167" y="62.5671">HTTP请求</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="82.2917" x="660.4167" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.2917" x="672.9167" y="1730.1331">HTTP请求</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="127.0833" x="836.4583" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="102.0833" x="848.9583" y="62.5671">WebService请求</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="127.0833" x="836.4583" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="102.0833" x="848.9583" y="1730.1331">WebService请求</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="1057.2917" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1069.7917" y="62.5671">参数转换</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="1057.2917" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1069.7917" y="1730.1331">参数转换</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="1226.0417" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1238.5417" y="62.5671">请求发送</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="1226.0417" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1238.5417" y="1730.1331">请求发送</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="1394.7917" y="37.5"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1407.2917" y="62.5671">结果转换</text><rect fill="url(#g1pj5tn3cw8f0o0)" height="40.1917" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;" width="75" x="1394.7917" y="1705.0659"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1407.2917" y="1730.1331">结果转换</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1527.0833" y="70.9005">事件处理</text><ellipse cx="1555.2083" cy="36.4583" fill="url(#g1pj5tn3cw8f0o0)" rx="12.5" ry="12.5" style="stroke:#2FA4E7;stroke-width:2.0833333333333335;"/><polygon fill="#2FA4E7" points="1551.0417,23.9583,1557.2917,18.75,1555.2083,23.9583,1557.2917,29.1667,1551.0417,23.9583" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1527.0833" y="1722.8414">事件处理</text><ellipse cx="1555.2083" cy="1747.3409" fill="url(#g1pj5tn3cw8f0o0)" rx="12.5" ry="12.5" style="stroke:#2FA4E7;stroke-width:2.0833333333333335;"/><polygon fill="#2FA4E7" points="1551.0417,1734.8409,1557.2917,1729.6326,1555.2083,1734.8409,1557.2917,1740.0492,1551.0417,1734.8409" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="37.5" x="1631.25" y="70.9005">MySql</text><path d="M1634.375,15.625 C1634.375,5.2083 1653.125,5.2083 1653.125,5.2083 C1653.125,5.2083 1671.875,5.2083 1671.875,15.625 L1671.875,42.7083 C1671.875,53.125 1653.125,53.125 1653.125,53.125 C1653.125,53.125 1634.375,53.125 1634.375,42.7083 L1634.375,15.625 " fill="url(#g1pj5tn3cw8f0o0)" style="stroke:#2FA4E7;stroke-width:1.5625;"/><path d="M1634.375,15.625 C1634.375,26.0417 1653.125,26.0417 1653.125,26.0417 C1653.125,26.0417 1671.875,26.0417 1671.875,15.625 " fill="none" style="stroke:#2FA4E7;stroke-width:1.5625;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="37.5" x="1631.25" y="1722.8414">MySql</text><path d="M1634.375,1741.0909 C1634.375,1730.6742 1653.125,1730.6742 1653.125,1730.6742 C1653.125,1730.6742 1671.875,1730.6742 1671.875,1741.0909 L1671.875,1768.1742 C1671.875,1778.5909 1653.125,1778.5909 1653.125,1778.5909 C1653.125,1778.5909 1634.375,1778.5909 1634.375,1768.1742 L1634.375,1741.0909 " fill="url(#g1pj5tn3cw8f0o0)" style="stroke:#2FA4E7;stroke-width:1.5625;"/><path d="M1634.375,1741.0909 C1634.375,1751.5076 1653.125,1751.5076 1653.125,1751.5076 C1653.125,1751.5076 1671.875,1751.5076 1671.875,1741.0909 " fill="none" style="stroke:#2FA4E7;stroke-width:1.5625;"/><polygon fill="#2FA4E7" points="340.625,132.0333,351.0417,136.2,340.625,140.3666,344.7917,136.2" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="95.8333" x2="346.875" y1="136.2" y2="136.2"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="135.4167" x="108.3333" y="111.0921">话机调用Update接口后</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="125" x="108.3333" y="126.2838">进行回调异步请求发送</text><polygon fill="#2FA4E7" points="107.2917,187.4166,96.875,191.5833,107.2917,195.7499,103.125,191.5833" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="101.0417" x2="352.0833" y1="191.5833" y2="191.5833"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="118.75" y="166.4754">请求结果</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="150" x="118.75" y="181.6671">（非请求第三方后的结果）</text><ellipse cx="352.6042" cy="244.5353" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;fill:none;"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="353.125" x2="396.875" y1="231.7749" y2="231.7749"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="396.875" x2="396.875" y1="231.7749" y2="245.3166"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="358.3333" x2="396.875" y1="245.3166" y2="245.3166"/><polygon fill="#2FA4E7" points="368.75,241.1499,358.3333,245.3166,368.75,249.4832,364.5833,245.3166" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="365.625" y="221.8587">解析配置参数</text><path d="M246.875,260.9416 L317.7083,260.9416 L317.7083,277.6082 L307.2917,288.0249 L242.7083,288.0249 L242.7083,265.1082 " fill="#EEEEEE" style="stroke:#868E96;stroke-width:1.0416666666666667;"/><rect fill="none" height="437.0748" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1377.0833" x="242.7083" y="260.9416"/><text fill="#033C73" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="17.7083" x="263.5417" y="279.7587">alt</text><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="48.9583" x="338.5417" y="280.8004">[HTTP]</text><path d="M257.2917,305.9082 L328.125,305.9082 L328.125,322.5749 L317.7083,332.9915 L253.125,332.9915 L253.125,310.0749 " fill="#EEEEEE" style="stroke:#868E96;stroke-width:1.0416666666666667;"/><rect fill="none" height="304.4332" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1356.25" x="253.125" y="305.9082"/><text fill="#033C73" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="17.7083" x="273.9583" y="324.7253">alt</text><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="122.9167" x="348.9583" y="325.767">[IsAuth == TRUE]</text><polygon fill="#2FA4E7" points="513.0208,371.2748,523.4375,375.4415,513.0208,379.6082,517.1875,375.4415" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="353.125" x2="519.2708" y1="375.4415" y2="375.4415"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="61.4583" x="365.625" y="365.5253">HTTP 认证</text><polygon fill="#2FA4E7" points="364.5833,411.4665,354.1667,415.6331,364.5833,419.7998,360.4167,415.6331" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="358.3333" x2="524.4792" y1="415.6331" y2="415.6331"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="376.0417" y="405.717">返回认证结果</text><ellipse cx="525" cy="468.5852" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;fill:none;"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="525.5208" x2="569.2708" y1="455.8248" y2="455.8248"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="569.2708" x2="569.2708" y1="455.8248" y2="469.3665"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="530.7292" x2="569.2708" y1="469.3665" y2="469.3665"/><polygon fill="#2FA4E7" points="541.1458,465.1998,530.7292,469.3665,541.1458,473.5331,536.9792,469.3665" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="538.0208" y="445.9086">确认认证结果</text><path d="M267.7083,484.9915 L338.5417,484.9915 L338.5417,501.6581 L328.125,512.0748 L263.5417,512.0748 L263.5417,489.1581 " fill="#EEEEEE" style="stroke:#868E96;stroke-width:1.0416666666666667;"/><rect fill="none" height="118.0583" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1335.4167" x="263.5417" y="484.9915"/><text fill="#033C73" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="17.7083" x="284.375" y="503.8086">alt</text><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="62.5" x="359.375" y="504.8503">[认证失败]</text><polygon fill="#2FA4E7" points="364.5833,550.3581,354.1667,554.5247,364.5833,558.6914,360.4167,554.5247" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="358.3333" x2="524.4792" y1="554.5247" y2="554.5247"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="376.0417" y="544.6086">返回回调</text><polygon fill="#2FA4E7" points="1542.7083,590.5497,1553.125,594.7164,1542.7083,598.8831,1546.875,594.7164" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="353.125" x2="1548.9583" y1="594.7164" y2="594.7164"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="365.625" y="584.8002">发送结果</text><polygon fill="#2FA4E7" points="689.0625,645.3247,699.4792,649.4914,689.0625,653.658,693.2292,649.4914" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="353.125" x2="695.3125" y1="649.4914" y2="649.4914"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="86.4583" x="365.625" y="639.5752">HTTP 回调发送</text><polygon fill="#2FA4E7" points="1082.2917,685.5164,1092.7083,689.683,1082.2917,693.8497,1086.4583,689.683" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="701.5625" x2="1088.5417" y1="689.683" y2="689.683"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="714.0625" y="679.7668">请求参数转换</text><path d="M267.7083,712.5997 L338.5417,712.5997 L338.5417,729.2664 L328.125,739.683 L263.5417,739.683 L263.5417,716.7664 " fill="#EEEEEE" style="stroke:#868E96;stroke-width:1.0416666666666667;"/><rect fill="none" height="224.0499" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="920.8333" x="263.5417" y="712.5997"/><text fill="#033C73" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="17.7083" x="284.375" y="731.4168">alt</text><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="95.8333" x="359.375" y="732.4585">[WebService]</text><polygon fill="#2FA4E7" points="887.5,777.9663,897.9167,782.133,887.5,786.2996,891.6667,782.133" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="353.125" x2="893.75" y1="782.133" y2="782.133"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="131.25" x="365.625" y="772.2168">WebService 回调发送</text><path d="M788.5417,797.758 L859.375,797.758 L859.375,814.4246 L848.9583,824.8413 L784.375,824.8413 L784.375,801.9246 " fill="#EEEEEE" style="stroke:#868E96;stroke-width:1.0416666666666667;"/><rect fill="none" height="91.4083" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="231.25" x="784.375" y="797.758"/><text fill="#033C73" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="17.7083" x="805.2083" y="816.5751">alt</text><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="122.9167" x="880.2083" y="817.6168">[IsAuth == TRUE]</text><ellipse cx="899.4792" cy="880.0517" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;fill:none;"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="900" x2="943.75" y1="867.2913" y2="867.2913"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="943.75" x2="943.75" y1="867.2913" y2="880.8329"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="905.2083" x2="943.75" y1="880.8329" y2="880.8329"/><polygon fill="#2FA4E7" points="915.625,876.6663,905.2083,880.8329,915.625,884.9996,911.4583,880.8329" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="912.5" y="857.3751">添加认证信息</text><polygon fill="#2FA4E7" points="1082.2917,924.1496,1092.7083,928.3162,1082.2917,932.4829,1086.4583,928.3162" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="900" x2="1088.5417" y1="928.3162" y2="928.3162"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="912.5" y="918.4001">请求参数转换</text><ellipse cx="1094.2708" cy="1003.7516" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;fill:none;"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1094.7917" x2="1138.5417" y1="990.9912" y2="990.9912"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1138.5417" x2="1138.5417" y1="990.9912" y2="1004.5329"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1100" x2="1138.5417" y1="1004.5329" y2="1004.5329"/><polygon fill="#2FA4E7" points="1110.4167,1000.3662,1100,1004.5329,1110.4167,1008.6995,1106.25,1004.5329" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="1107.2917" y="965.8834">解析配置进行</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1107.2917" y="981.075">参数转换</text><polygon fill="#2FA4E7" points="1251.0417,1040.5579,1261.4583,1044.7245,1251.0417,1048.8912,1255.2083,1044.7245" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="1094.7917" x2="1257.2917" y1="1044.7245" y2="1044.7245"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1107.2917" y="1034.8083">回调请求</text><polygon fill="#2FA4E7" points="1419.7917,1080.7495,1430.2083,1084.9162,1419.7917,1089.0828,1423.9583,1084.9162" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="1263.5417" x2="1426.0417" y1="1084.9162" y2="1084.9162"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="1276.0417" y="1075">请求结果收集</text><ellipse cx="1431.7708" cy="1137.8682" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;fill:none;"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1432.2917" x2="1476.0417" y1="1125.1078" y2="1125.1078"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1476.0417" x2="1476.0417" y1="1125.1078" y2="1138.6495"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1437.5" x2="1476.0417" y1="1138.6495" y2="1138.6495"/><polygon fill="#2FA4E7" points="1447.9167,1134.4828,1437.5,1138.6495,1447.9167,1142.8162,1443.75,1138.6495" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="1444.7917" y="1115.1917">请求结果转换</text><polygon fill="#2FA4E7" points="1275,1174.6745,1264.5833,1178.8411,1275,1183.0078,1270.8333,1178.8411" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="1268.75" x2="1431.25" y1="1178.8411" y2="1178.8411"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1286.4583" y="1168.925">返回结果</text><polygon fill="#2FA4E7" points="1106.25,1214.8661,1095.8333,1219.0328,1106.25,1223.1995,1102.0833,1219.0328" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="1100" x2="1262.5" y1="1219.0328" y2="1219.0328"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1117.7083" y="1209.1166">返回结果</text><polygon fill="#2FA4E7" points="364.5833,1255.0578,354.1667,1259.2244,364.5833,1263.3911,360.4167,1259.2244" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="358.3333" x2="1093.75" y1="1259.2244" y2="1259.2244"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="376.0417" y="1249.3083">返回结果</text><polygon fill="#2FA4E7" points="1542.7083,1295.2494,1553.125,1299.4161,1542.7083,1303.5828,1546.875,1299.4161" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="353.125" x2="1548.9583" y1="1299.4161" y2="1299.4161"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="365.625" y="1289.4999">发送结果事件</text><ellipse cx="1554.6875" cy="1352.3682" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;fill:none;"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1555.2083" x2="1598.9583" y1="1339.6077" y2="1339.6077"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1598.9583" x2="1598.9583" y1="1339.6077" y2="1353.1494"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="1560.4167" x2="1598.9583" y1="1353.1494" y2="1353.1494"/><polygon fill="#2FA4E7" points="1570.8333,1348.9827,1560.4167,1353.1494,1570.8333,1357.3161,1566.6667,1353.1494" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="1567.7083" y="1329.6916">处理结果</text><polygon fill="#2FA4E7" points="1640.625,1389.1744,1651.0417,1393.3411,1640.625,1397.5077,1644.7917,1393.3411" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="1555.2083" x2="1646.875" y1="1393.3411" y2="1393.3411"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="62.5" x="1567.7083" y="1383.4249">写入数据库</text><path d="M180.2083,1408.9661 L262.5,1408.9661 L262.5,1425.6327 L252.0833,1436.0494 L176.0417,1436.0494 L176.0417,1413.1327 " fill="#EEEEEE" style="stroke:#868E96;stroke-width:1.0416666666666667;"/><rect fill="none" height="279.4332" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="1514.5833" x="176.0417" y="1408.9661"/><text fill="#033C73" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="196.875" y="1427.7832">loop</text><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="51.0417" x="283.3333" y="1428.8249">[5 min]</text><polygon fill="#2FA4E7" points="1640.625,1474.3327,1651.0417,1478.4993,1640.625,1482.666,1644.7917,1478.4993" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="230.2083" x2="1646.875" y1="1478.4993" y2="1478.4993"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="75" x="242.7083" y="1468.5832">查询失败结果</text><polygon fill="#2FA4E7" points="241.6667,1514.5243,231.25,1518.691,241.6667,1522.8577,237.5,1518.691" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="235.4167" x2="1652.0833" y1="1518.691" y2="1518.691"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="253.125" y="1508.7748">返回结果</text><ellipse cx="229.6875" cy="1571.6431" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.5625;fill:none;"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="230.2083" x2="273.9583" y1="1558.8826" y2="1558.8826"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="273.9583" x2="273.9583" y1="1558.8826" y2="1572.4243"/><line style="stroke:#2FA4E7;stroke-width:3.125;fill:none;" x1="235.4167" x2="273.9583" y1="1572.4243" y2="1572.4243"/><polygon fill="#2FA4E7" points="245.8333,1568.2576,235.4167,1572.4243,245.8333,1576.591,241.6667,1572.4243" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="242.7083" y="1548.9665">处理结果</text><path d="M190.625,1588.0493 L261.4583,1588.0493 L261.4583,1604.716 L251.0417,1615.1326 L186.4583,1615.1326 L186.4583,1592.216 " fill="#EEEEEE" style="stroke:#868E96;stroke-width:1.0416666666666667;"/><rect fill="none" height="93.0583" rx="4.1667" ry="4.1667" style="stroke:#868E96;stroke-width:2.0833333333333335;" width="256.25" x="186.4583" y="1588.0493"/><text fill="#033C73" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="17.7083" x="207.2917" y="1606.8665">alt</text><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="111.4583" x="282.2917" y="1607.9081">[FAILURE &lt;= 3]</text><polygon fill="#2FA4E7" points="340.625,1668.6076,351.0417,1672.7743,340.625,1676.9409,344.7917,1672.7743" style="stroke:#2FA4E7;stroke-width:1.0416666666666667;"/><line style="stroke:#2FA4E7;stroke-width:3.125;" x1="230.2083" x2="346.875" y1="1672.7743" y2="1672.7743"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="242.7083" y="1647.6664">重新发送</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50" x="242.7083" y="1662.8581">回调请求</text><!--MD5=[b3bd4fa9e56de1c60b2cfa7806c466cc]
@startuml

!theme cerulean

participant Update接口 as t1
control 失败重试 as t2
participant 回调请求 as t3
participant HTTP认证 as t10
participant HTTP请求 as t4
participant WebService请求 as t5
participant 参数转换 as t6
participant 请求发送 as t9
participant 结果转换 as t7
control 事件处理 as t8
database MySql

t1 -> t3 : 话机调用Update接口后\n进行回调异步请求发送
t3 - -> t1 : 请求结果\n（非请求第三方后的结果）
t3 ->o t3 : 解析配置参数
alt HTTP
    alt IsAuth == TRUE
        t3 -> t10 : HTTP 认证
        t10 - -> t3 : 返回认证结果
        t10 ->o t10 : 确认认证结果
        alt 认证失败
            t10 - -> t3 : 返回回调
            t3 -> t8 : 发送结果
        end
    end
    t3 -> t4 : HTTP 回调发送
    t4 -> t6 : 请求参数转换
end
alt WebService
    t3 -> t5 : WebService 回调发送
     alt IsAuth == TRUE
        t5 ->o t5 : 添加认证信息
     end
    t5 -> t6 : 请求参数转换
end

t6 ->o t6 : 解析配置进行\n参数转换
t6 -> t9 : 回调请求
t9 -> t7 : 请求结果收集
t7 ->o t7 : 请求结果转换
t7 - -> t9 : 返回结果
t9 - -> t6 : 返回结果
t6 - -> t3 : 返回结果
t3 -> t8 : 发送结果事件
t8 ->o t8 : 处理结果
t8 -> MySql : 写入数据库

loop 5 min
    t2 -> MySql : 查询失败结果
    MySql - -> t2 : 返回结果
    t2 ->o t2 : 处理结果
    alt FAILURE <= 3
        t2 -> t3 : 重新发送\n回调请求
    end
end


@enduml

@startuml




skinparam backgroundColor transparent
skinparam useBetaStyle false







skinparam defaultFontName        "Verdana"
skinparam defaultFontSize        12
skinparam dpi                    100
skinparam shadowing              false
skinparam roundcorner            8
skinparam ParticipantPadding     40
skinparam BoxPadding             40
skinparam Padding                5
skinparam ArrowColor             #868E96
skinparam stereotype {
    CBackgroundColor #EDF0F2
    CBorderColor #BABDBF
    ABackgroundColor #8FB961
    ABorderColor #5C862E
    IBackgroundColor #D2494E
    IBorderColor #9F161B
    EBackgroundColor #E47833
    EBorderColor #B14500
    NBackgroundColor #35638F
    NBorderColor #02305C
}
skinparam title {
	FontColor	                 #2FA4E7
	BorderColor	                 #BABDBF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              #EDF0F2-#E9ECEF
}


skinparam legend {
	BackgroundColor #E9ECEF
	BorderColor #BABDBF
	FontColor #343A40
}

skinparam swimlane {
	BorderColor #033C73
	BorderThickness 2
	TitleBackgroundColor  #EDF0F2-#E9ECEF
	TitleFontColor #2FA4E7
}


skinparam activity {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	BarColor #73A839
	StartColor #033C73
	EndColor #033C73
	DiamondBackgroundColor #FFF-#EDF0F2
  	DiamondBorderColor #BABDBF
	DiamondFontColor #343A40
}


skinparam participant {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	FontColor #343A40
}


skinparam arrow {
	Thickness 3
	Color #2FA4E7
	FontColor #343A40
}


skinparam sequence {
	BorderColor #2FA4E7
	TitleFontColor #2FA4E7
	BackgroundColor transparent
	StartColor #2FA4E7
	EndColor #2FA4E7
	BoxBackgroundColor #F8F9FA
	BoxBorderColor #868E96
	BoxFontColor #343A40
	LifeLineBorderColor #BABDBF
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #EDF0F2
	GroupBorderColor #868E96
	GroupFontColor #343A40
	GroupHeaderFontColor #033C73
	DividerBackgroundColor #FFF-#F8F9FA
    DividerBorderColor #868E96
    DividerBorderThickness 2
    DividerFontColor #343A40
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #868E96
	ReferenceFontColor #343A40
	ReferenceHeaderFontColor #033C73
}


skinparam partition {
	BorderColor #2FA4E7
	FontColor #2FA4E7
	BackgroundColor transparent
}


skinparam collections {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
}


skinparam control {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	FontColor #343A40
}


skinparam entity {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	FontColor #343A40
}


skinparam boundary {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	FontColor #343A40
}


skinparam agent {
	BackgroundColor #orange
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor #35638F-#033C73
	BorderColor #033C73
	FontColor #FFF
}


skinparam artifact {
	BackgroundColor #FFF-#F8F9FA
	BorderColor #BABDBF
	FontColor #343A40
}


skinparam component {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
}


skinparam interface {
	BackgroundColor  #D2494E
	BorderColor  #C71C22
	FontColor #343A40
}


skinparam storage {
	BackgroundColor #E47833-#DD5600
  	BorderColor #DD5600
	FontColor #FFF
}


skinparam node {
	BackgroundColor #EDF0F2-#E9ECEF
	BorderColor #E9ECEF
	FontColor #343A40
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #2FA4E7
}


skinparam database {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	FontColor #343A40
}


skinparam class {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	HeaderBackgroundColor #2FA4E7-#2683B9
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #F8F9FA
	AttributeFontSize 11
}


skinparam object {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	StereotypeFontColor #343A40
	BorderThickness 1
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam rectangle {
	FontColor #2FA4E7
	BorderColor #59B6EC
	BackgroundColor transparent
	BorderThickness 2
	StereotypeFontColor #2FA4E7
}


skinparam package {
	FontColor #2FA4E7
	BorderColor #59B6EC
	BackgroundColor transparent
	BorderThickness 2
}


skinparam folder {
	BackgroundColor #FFF-#EDF0F2
  	BorderColor #DD5600
	FontColor #DD5600
	BorderThickness 2
}


skinparam frame {
	BackgroundColor #FFF-#EDF0F2
  	BorderColor #033C73
	FontColor #033C73
	BorderThickness 2
}


skinparam state {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
	BorderColor #2683B9
	StartColor #033C73
	EndColor #033C73
	AttributeFontColor #343A40
	AttributeFontSize 11
}


skinparam queue {
		FontColor #FFF
	BorderColor #2FA4E7
	BackgroundColor #59B6EC-#2FA4E7
}


skinparam card {
	BackgroundColor #35638F-#033C73
	BorderColor #033C73
	FontColor #FFF
}


skinparam file {
	BackgroundColor #EDF0F2-#E9ECEF
	BorderColor #033C73
	FontColor #868E96

}



participant Update接口 as t1
control 失败重试 as t2
participant 回调请求 as t3
participant HTTP认证 as t10
participant HTTP请求 as t4
participant WebService请求 as t5
participant 参数转换 as t6
participant 请求发送 as t9
participant 结果转换 as t7
control 事件处理 as t8
database MySql

t1 -> t3 : 话机调用Update接口后\n进行回调异步请求发送
t3 - -> t1 : 请求结果\n（非请求第三方后的结果）
t3 ->o t3 : 解析配置参数
alt HTTP
    alt IsAuth == TRUE
        t3 -> t10 : HTTP 认证
        t10 - -> t3 : 返回认证结果
        t10 ->o t10 : 确认认证结果
        alt 认证失败
            t10 - -> t3 : 返回回调
            t3 -> t8 : 发送结果
        end
    end
    t3 -> t4 : HTTP 回调发送
    t4 -> t6 : 请求参数转换
end
alt WebService
    t3 -> t5 : WebService 回调发送
     alt IsAuth == TRUE
        t5 ->o t5 : 添加认证信息
     end
    t5 -> t6 : 请求参数转换
end

t6 ->o t6 : 解析配置进行\n参数转换
t6 -> t9 : 回调请求
t9 -> t7 : 请求结果收集
t7 ->o t7 : 请求结果转换
t7 - -> t9 : 返回结果
t9 - -> t6 : 返回结果
t6 - -> t3 : 返回结果
t3 -> t8 : 发送结果事件
t8 ->o t8 : 处理结果
t8 -> MySql : 写入数据库

loop 5 min
    t2 -> MySql : 查询失败结果
    MySql - -> t2 : 返回结果
    t2 ->o t2 : 处理结果
    alt FAILURE <= 3
        t2 -> t3 : 重新发送\n回调请求
    end
end


@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>